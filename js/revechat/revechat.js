jQuery.noConflict(),function(e){var a="https://dashboard.revechat.com/",t={init:function(){this.toggleForms(),this.bindFormSubmit()},toggleForms:function(){var a=function(){e("#new_revechat_account").is(":checked")?(e("#revechat_already_have").hide(),e("#revechat_new_account").show(),e("#edit-name").focus()):e("#has_revechat_account").is(":checked")&&(e("#revechat_new_account").hide(),e("#revechat_already_have").show(),e("#edit-revechat-account-email").focus())};a(),e("#revechat_choose_form input").click(a)},bindFormSubmit:function(){e("#revechat-admin-settings-form").submit(function(a){return 0!==parseInt(e("input[name=revechat_aid]").val())&&0!==parseInt(e("input[name=revechat_trackingid]").val())||e("#has_revechat_account").is(":checked")?t.alreadyHaveAccountForm():t.newLicenseForm()})},alreadyHaveAccountForm:function(){if(!this.validEmail())return e("#revechat_already_have .ajax_message").removeClass("wait").addClass("message alert").html("Invalid Email."),e("#edit-revechat-account-email").focus(),!1;if(0==parseInt(e("input[name=revechat_aid]").val())||0==parseInt(e("input[name=revechat_trackingid]").val())){var t=e.trim(e("#edit-revechat-account-email").val());if(!t.length)return e("#edit-revechat-account-email").focus(),!1;e("#revechat_already_have .ajax_message").removeClass("message").addClass("wait").html("Please wait&hellip;");var r=a+"/license/adminId/"+e("#edit-revechat-account-email").val()+"/?callback=?";return e.getJSON(r,function(a){return a.error?(e("#revechat_already_have .ajax_message").removeClass("wait").addClass("message alert").html("Incorrect REVE Chat login."),e("#edit-revechat-account-email").focus(),!1):(e("input[name=revechat_aid]").val(a.data.account_id),e("input[name=revechat_trackingid]").val(a.data.tracking_id),e("#revechat-admin-settings-form").submit(),void 0)}),!1}return!0},newLicenseForm:function(){return parseInt(e("input[name=revechat_aid]").val()>0)&&parseInt(e("input[name=revechat_trackingid]").val()>0)?!0:(this.validateNewLicenseForm()&&(e("#revechat_new_account .ajax_message").removeClass("message").addClass("wait").html("Please wait..."),t.createLicense()),!1)},createLicense:function(){e("#revechat_new_account .ajax_message").removeClass("message").addClass("wait").html("Creating new account&hellip;");var t=a+"/revechat/rest/api/signup.do";e.ajax({data:{firstname:e("#edit-name").val(),lastname:" ",mailAddr:e("#edit-email").val(),phoneNo:e("#edit-phone").val()},type:"POST",url:t,dataType:"json",cache:!1,success:function(a){if(a.error)return e("#revechat_new_account .ajax_message").html(a.error).addClass("message alert").removeClass("wait"),!1;if(a.success){e("#revechat-admin-settings-form").children("div").remove();var t='<div class="revechat_success_message">';return t+="<h3>Thank you for sigining up with REVE Chat</h3>",t+="<p>A verification link has been sent to your registered email address from <strong>noreply-support@revechat.com</strong>. Kindly verify your email to complete the signup process</p>",t+="<p>Then come backe again to integrate REVE Chat in your website.</p>",t+="</div>",e(t).appendTo("#revechat-admin-settings-form"),!1}}})},validEmail:function(){return"Remove"!=e("#edit-submit").val()&&0==/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i.test(e("#edit-revechat-account-email").val())?(e("#edit-email").focus(),!1):!0},validateNewLicenseForm:function(){return e("#edit-name").val().length<1?(alert("Please enter your full name."),e("#edit-name").addClass("error").focus(),!1):0==/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}$/i.test(e("#edit-email").val())?(alert("Please enter a valid email address."),e("#edit-email").addClass("error").focus(),!1):e("#edit-phone").val().length<1?(alert("Please enter your phone number."),e("#edit-phone").addClass("error").focus(),!1):!0}};e(document).ready(function(){t.init()})}(jQuery);